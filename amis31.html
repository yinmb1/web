<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <title>amis demo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="stylesheet" href="/amis/sdk.js">  

    <style>
      html,
      body,
      .app-wrapper {
        position: relative; 
        width: 100%;
        height: 100%;
        margin: 0;  
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="root" class="app-wrapper"></div>
    <script src="/amis/sdk.css"></script>
    <script type="text/javascript">
      (function () {
        let amis = amisRequire('amis/embed');
        let amisScoped = amis.embed('#root', {
    "$schema": "https://houtai.baidu.com/v2/schemas/page.json#",
    "type": "page",
    "title": "地址栏变化自动更新",
    "body": [
        {
            "type": "tpl",
            "tpl": "<p><span class=\"text-danger\">注意 page 渲染器的 `initApi` 中有变量跟地址栏中变量关联，只要值发生了变化，就会重新拉取一次 initApi。</sapn></p>"
        },
        {
            "type": "tpl",
            "tpl": "<p>这些数据是通过 initApi 拉取到的数据。 `\\$infoId`: <span class=\"text-danger\">${infoId|default:空}</span></p>"
        }
    ],
    "initApi": "https://houtai.baidu.com/api/mock2/form/initData?id=${id}",
    "aside": [
        {
            "type": "wrapper",
            "size": "xs",
            "className": "",
            "body": [
                {
                    "type": "nav",
                    "stacked": true,
                    "links": [
                        {
                            "label": "页面1",
                            "to": "?id=1"
                        },
                        {
                            "label": "页面2",
                            "children": [
                                {
                                    "label": "页面2-1",
                                    "to": "?id=2-1"
                                },
                                {
                                    "label": "页面2-2",
                                    "to": "?id=2-2"
                                },
                                {
                                    "label": "页面2-3（disabled）",
                                    "disabled": true,
                                    "to": "?id=2-3"
                                },
                                {
                                    "label": "页面2",
                                    "children": [
                                        {
                                            "label": "页面2-1",
                                            "to": "?id=2-1"
                                        },
                                        {
                                            "label": "页面2-2",
                                            "to": "?id=2-2"
                                        },
                                        {
                                            "label": "页面2-3（disabled）",
                                            "disabled": true,
                                            "to": "?id=2-3"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "label": "页面3",
                            "to": "?id=3"
                        }
                    ]
                }
            ]
        }
    ]
}
);
      })();
    </script>
  </body>
</html>